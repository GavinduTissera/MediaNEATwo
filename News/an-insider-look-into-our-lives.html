<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Fonts/gordita-cufonfonts-webfont/style.css">
    <link rel="stylesheet" href="../Fonts/futura-std-4-cufonfonts-webfont/style.css">
    <link rel="stylesheet" href="../CSS/reset.css">
    <link rel="stylesheet" href="../CSS/styles.css">
    <link rel="stylesheet" href="../CSS/insiderlook.css">
    <script src="https://kit.fontawesome.com/62b71b12cb.js" crossorigin="anonymous"></script>
    <title>An Insider Look Onto Our Lives</title>
</head>

<body>
    <header>
        <nav class="NavBar">
            <!--Text that goes to home screen when clicked-->
            <a class="LogoNavBar" href="../index.html"><img class="RedBalloonLogo"
                    src="../Includes/MediaNEAGraphics/Balloons/redballoonlogolong.png"
                    alt="Red Balloon Reviews Logo"></a>
            <ul class="NavBarList">
                <!--Options that form the navigation bar-->
                <li><a class="NavBarHome" href="../index.html">HOME</a></li>
                <!-- lINK TO THE NEWS TIMELINE -->
                <li><a class="NavBarReviews" href="../index.html#AboutUsSection">ABOUT US</a></li>
                <li><a class="NavBarNews" href="../NewsTimeline.html">NEWS & REVIEWS</a></li>
            </ul>
        </nav>
        <hr>
    </header>
    <main>
        <div class="fullContainer">
            <div class="VideoContainer">
                <div class="VideoDiv">
                    <div class="TitleName">
                        <h2 class="ContentTypeText TitleVideo">An insider look into "Our Lives" with director Amirah
                        </h2>
                    </div>
                    <video class="videoPlayer" controls
                        poster="../Includes/MediaNEAGraphics/Images/ourliveslogodraft.png">
                        <source src="../finishedVideos/Among us walkthrough finished 2.mp4" type="video/mp4">
                    </video>
                    <div class="VideoControls">
                        <div class="Buttons">
                            <div class="PlayBar">
                                <div class="PlayColour"></div>
                            </div>
                            <button class="playPause"></button>
                            <div class="VideoTime">
                                <span class="currentTime">0:00</span> / <span class="totalTime">0:00</span>
                            </div>
                            <div class="VideoSeekers">
                                <div class="SeekLeft"><i class="fa-solid fa-rotate-left"></i></div>
                                <div class="SeekRight"><i class="fa-solid fa-rotate-right"></i></div>
                            </div>
                            <div class="VolumeSelector">
                                <input type="range" class="volume" min="0" max="1" step="0.01" value="1">
                                <div class="volumeInputSliderDiv">
                                    <div class="volumeInputSlider"></div>
                                </div>
                                <button class="volumeMuteUnmute"></button>
                            </div>
                            <button class="FullscreenButton minimisedVideo"></button>
                        </div>
                    </div>
                </div>
                <div class="VideoTitleDescription">
                    <h2 class="ContentTypeText Title">An insider look into "Our Lives" with director Amirah</h2>
                    <h3 class="ContentTypeText Description">Award-winning director Amirah goes through the process of
                        making critically acclaimed movie "Our Lives", with her record-breaking team of women.</h3>
                </div>
            </div>
            <div class="ViewMoreSection">
                <div class="ViewMoreTitle">Watch More</div>
                <div class="ViewMoreContent">
                    <div class="WatchMoreVideo videoOne">
                        <div class="VideoClick">
                            <a href="../index.html">
                                <div class="VideoViewerTitle">
                                    <div class="VideoThumbnail">
                                        <img src="../Includes/MediaNEAGraphics/GalleryPictures/basscloseup.png" alt=""
                                            class="VideoThumbnailImg">
                                    </div>
                                    <div class="VideoVMTitle">
                                        <h2 class="ContentTypeText TitleSmall">The best costume designer in Hollywood
                                        </h2>
                                        <h4 class="ContentTypeText Date">11 February 2023</h4>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="VideoSeperator"></div>
                    </div>
                    <div class="WatchMoreVideo videoTwo">
                        <div class="VideoClick">
                            <a href="../index.html">
                                <div class="VideoViewerTitle">
                                    <div class="VideoThumbnail">
                                        <img src="../Includes/MediaNEAGraphics/GalleryPictures/basscloseup.png" alt=""
                                            class="VideoThumbnailImg">
                                    </div>
                                    <div class="VideoVMTitle">
                                        <h2 class="ContentTypeText TitleSmall">The all-women film crew showing the
                                            effects of climate change</h2>
                                        <h4 class="ContentTypeText Date">19 January 2023</h4>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="VideoSeperator"></div>
                    </div>
                    <div class="WatchMoreVideo videoThree">
                        <div class="VideoClick">
                            <a href="../index.html">
                                <div class="VideoViewerTitle">
                                    <div class="VideoThumbnail">
                                        <img src="../Includes/MediaNEAGraphics/GalleryPictures/basscloseup.png" alt=""
                                            class="VideoThumbnailImg">
                                    </div>
                                    <div class="VideoVMTitle">
                                        <h2 class="ContentTypeText TitleSmall">How do you make your mark as a female
                                            director?</h2>
                                        <h4 class="ContentTypeText Date">27 December 2022</h4>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="VideoSeperator"></div>
                    </div>
                </div>
            </div>
        </div>

    </main>
    <script>
        var videoDiv = document.querySelector(".VideoDiv")
        var video = document.querySelector(".videoPlayer")
        var videoControls = document.querySelector(".VideoControls")
        var playButton = document.querySelector(".playPause")
        var playColour = document.querySelector(".PlayColour")
        var progressBar = document.querySelector(".PlayBar")
        var volumeController = document.querySelector(".volume")
        var volumeProgress = document.querySelector(".volumeInputSlider")
        var volumeIcon = document.querySelector(".volumeMuteUnmute")
        var currentTimeElement = document.querySelector(".currentTime")
        var totalTimeElement = document.querySelector(".totalTime")
        var leftSeeker = document.querySelector(".SeekLeft")
        var rightSeeker = document.querySelector(".SeekRight")
        var FullscreenButton = document.querySelector(".FullscreenButton")


        const videoWorks = !!document.createElement('video').canPlayType;
        if (videoWorks) {
            video.controls = false;
            videoControls.classList.remove('hidden');
        }

        playButton.addEventListener("click", togglePlay)
        //functions
        function togglePlay() {
            if (video.paused || video.ended) {
                video.play()
                console.log(playButton)
                console.log(playButton.classList)
                playButton.classList.remove("play")
                playButton.classList.add("pause")
            } else {
                video.pause()
                playButton.classList.remove("pause")
                playButton.classList.add("play")
            }
        }

        video.addEventListener("click", function () {
            if (video.paused || video.ended) {
                video.play()
                console.log(playButton)
                console.log(playButton.classList)
                playButton.classList.remove("play")
                playButton.classList.add("pause")
            } else {
                video.pause()
                playButton.classList.remove("pause")
                playButton.classList.add("play")
            }
        })


        if (document.activeElement = video) {
            document.addEventListener('keyup', event => {
                if (event.code === 'Space') {
                    if (video.paused || video.ended) {
                        video.play()
                        console.log(playButton)
                        console.log(playButton.classList)
                        playButton.classList.remove("play")
                        playButton.classList.add("pause")
                    } else {
                        video.pause()
                        playButton.classList.remove("pause")
                        playButton.classList.add("play")
                    }
                } else if (event.key === "ArrowLeft") {
                    video.currentTime = video.currentTime - 5
                } else if (event.key === "ArrowRight") {
                    video.currentTime = video.currentTime + 5
                } else if (event.key === "f" || event.key === "F") {
                    if (FullscreenButton.classList.contains("minimisedVideo")) {
                        videoDiv.requestFullscreen()
                        FullscreenButton.classList.remove("minimisedVideo")
                        FullscreenButton.classList.add("fullscreenVideo")
                    } else {
                        document.exitFullscreen()
                        FullscreenButton.classList.remove("fullscreenVideo")
                        FullscreenButton.classList.add("minimisedVideo")
                    }
                } else if (event.key === "m" || event.key === "M") {
                    var volumeValue = volumeController.value
                    if (volumeValue == 0) {
                        volumeController.value = 1
                        video.volume = 1
                        volumeProgress.style.width = "100%"
                        volumeIcon.classList.remove("volumeLow", "volumeMuted")
                        volumeIcon.classList.add("volumeHigh")
                    } else {
                        volumeController.value = 0
                        video.volume = 0
                        volumeProgress.style.width = "0%"
                        volumeIcon.classList.remove("volumeHigh", "volumeLow")
                        volumeIcon.classList.add("volumeMuted")
                    }
                }
            })
        }


        video.addEventListener("timeupdate", function () {
            var timepos = video.currentTime / video.duration
            playColour.style.width = timepos * 100 + "%"
            if (video.ended) {
                playButton.classList.remove("pause")
                playButton.classList.add("play")
            }
            let currentMinutes = Math.floor(video.currentTime / 60)
            let currentSeconds = Math.floor(video.currentTime - currentMinutes * 60)
            let totalMinutes = Math.floor(video.duration / 60)
            let totalSeconds = Math.floor(video.duration - totalMinutes * 60)
            currentTimeElement.innerHTML = `${currentMinutes}:${currentSeconds < 10 ? '0' + currentSeconds : currentSeconds}`
            totalTimeElement.innerHTML = `${totalMinutes}:${totalSeconds < 10 ? '0' + totalSeconds : totalSeconds}`
        })

        FullscreenButton.addEventListener("click", function () {
            if (FullscreenButton.classList.contains("minimisedVideo")) {
                videoDiv.requestFullscreen()
                FullscreenButton.classList.remove("minimisedVideo")
                FullscreenButton.classList.add("fullscreenVideo")
            } else {
                document.exitFullscreen()
                FullscreenButton.classList.remove("fullscreenVideo")
                FullscreenButton.classList.add("minimisedVideo")
            }
        })

        //change progress on click
        progressBar.addEventListener("click", (e) => {
            const progressTime = (e.offsetX / progressBar.offsetWidth) * video.duration
            video.currentTime = progressTime
        })

        volumeController.addEventListener("input", function () {
            var volumeValue = volumeController.value
            volumeProgress.style.width = (volumeValue * 100) + "%"
            video.volume = volumeValue
            if (volumeValue == 0) {
                volumeIcon.classList.remove("volumeHigh", "volumeLow")
                volumeIcon.classList.add("volumeMuted")
            } else if (volumeValue < 0.5) {
                volumeIcon.classList.remove("volumeHigh", "volumeMuted")
                volumeIcon.classList.add("volumeLow")
            } else {
                volumeIcon.classList.remove("volumeLow", "volumeMuted")
                volumeIcon.classList.add("volumeHigh")
            }
        })

        volumeIcon.addEventListener("click", function () {
            var volumeValue = volumeController.value
            if (volumeValue == 0) {
                volumeController.value = 1
                video.volume = 1
                volumeProgress.style.width = "100%"
                volumeIcon.classList.remove("volumeLow", "volumeMuted")
                volumeIcon.classList.add("volumeHigh")
            } else {
                volumeController.value = 0
                video.volume = 0
                volumeProgress.style.width = "0%"
                volumeIcon.classList.remove("volumeHigh", "volumeLow")
                volumeIcon.classList.add("volumeMuted")
            }
        })

        leftSeeker.addEventListener("click", function () {
            video.currentTime = video.currentTime - 5
        })

        rightSeeker.addEventListener("click", function () {
            video.currentTime = video.currentTime + 5
        })
    </script>
</body>

</html>